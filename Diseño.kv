<BackgroundColor@Widget>:
    background_color: 1, 1, 1, 1
    canvas.before:
        Color:
            rgba: root.background_color
        Rectangle:
            size: self.size
            pos: self.pos
<BackgroundLabel@Label+BackgroundColor>:
    background_color: 0, 0, 0, 0
<Acceder>:
    id: Acceder
    FloatLayout:
        Label:
            text: "Inicio de sesión"
            font_size: "20sp"
            size_hint: 0.8, 0.1
            pos_hint: {"top": 0.9, "center_x": 0.5}
        TextInput:
            id: username_input
            hint_text: "Nombre de usuario"
            size_hint: 0.8, 0.1
            pos_hint: {"top": 0.75, "center_x": 0.5}
        TextInput:
            id: password_input
            hint_text: "Contraseña"
            password: True
            size_hint: 0.8, 0.1
            pos_hint: {"top": 0.6, "center_x": 0.5}
        Button:
            text: "Acceder"
            size_hint: 0.4, 0.1
            pos_hint: {"top": 0.45, "center_x": 0.3}
            on_release: root.login_user(username_input.text, password_input.text)
        
        Label:
            id: Señal_Inicio
            size_hint: 0.4, 0.1
            pos_hint: {"top": 0.3, "center_x": 0.5}
            color: '#FF1414'
            text: ""
        Button:
            text: "Registrarse"
            size_hint: 0.4, 0.1
            pos_hint: {"top": 0.45, "center_x": 0.7}
            on_release: root.PantallaRegistro()
    

<Registro>:
    id: Registro
    FloatLayout:
        Label:
            text: "Registro de usuario"
            font_size: "20sp"
            size_hint: 0.8, 0.1
            pos_hint: {"top": 0.9, "center_x": 0.5}
        TextInput:
            id: username_input
            hint_text: "Nombre de usuario"
            size_hint: 0.8, 0.1
            pos_hint: {"top": 0.8, "center_x": 0.5}
        TextInput:
            id: email_input
            hint_text: "Correo electrónico"
            size_hint: 0.8, 0.1
            pos_hint: {"top": 0.65, "center_x": 0.5}
        TextInput:
            id: password_input
            hint_text: "Contraseña"
            password: True
            size_hint: 0.8, 0.1
            pos_hint: {"top": 0.5, "center_x": 0.5}
        TextInput:
            id: password2_input
            hint_text: "Vuelva a introducir la contraseña"
            password: True
            size_hint: 0.8, 0.1
            pos_hint: {"top": 0.35, "center_x": 0.5}
        Button:
            text: "Atras"
            size_hint: 0.4, 0.1
            pos_hint: {"top": 0.2, "center_x": 0.7}
            on_release: root.PantallaInicio()
        Label:
            id: Señal_Registro
            size_hint: 0.4, 0.1
            pos_hint: {"top": 0.95, "center_x": 0.5}
            color: '#FF1414'
            text: ""
        Button:
            text: "Registrarse"
            size_hint: 0.4, 0.1
            pos_hint: {"top": 0.2, "center_x": 0.3}
            on_release: root.register_user(username_input.text, email_input.text, password_input.text,password2_input.text)


<PantallaPrincipal>:
    id: principal_screen
    FloatLayout:
        Button:
            text: "Notas"
            size_hint: 0.4, 0.3
            pos_hint: {"top": 0.9, "center_x": 0.25}
            on_release: root.pantallanotas()
        Button:
            text: "Ajustes"
            size_hint: 0.4, 0.3
            pos_hint: {"top": 0.9, "center_x": 0.7}
            on_release: root.pantallaAjustes()
        Button:
            text: "Contactos"
            size_hint: 0.4, 0.3
            pos_hint: {"top": 0.55, "center_x": 0.7}
            on_release: root.pantallacontactos()
        Button:
            text: "Mochila"
            size_hint: 0.4, 0.3
            pos_hint: {"top": 0.55, "center_x": 0.25}
            on_release: root.pantallamochila()
        Button:
            text: "Salir"
            size_hint: 0.4, 0.1
            pos_hint: {"top": 0.2, "center_x": 0.7}
            on_release: root.pantallaAcceder()






<PantallaNotas>:
    id: screen_notes
    FloatLayout:
        TextInput:
            id: text_input
            text:""
            max_length: 600
            hint_text: "Escribe aqui..."
            size_hint: 0.8, 0.8
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        TextInput:
            id: tittle
            max_length: 16
            text:""
            hint_text: "Título"
            size_hint: 0.3, 0.05
            pos_hint: {'center_x': 0.5, 'center_y': 0.93}
        Button:
            text: "<"
            size_hint: 0.15, 0.05
            pos_hint: {"top": 0.95, "center_x": 0.17}
            on_release: app.pantallaPrincipal()
        Button:
            text: "Ver Notas"
            size_hint: 0.2, 0.05
            pos_hint: {"top": 0.95, "center_x": 0.8}
            on_release: root.mostrarNotas()
        Button:
            text: "Listo"
            size_hint: 0.2, 0.05
            pos_hint: {"top": 0.08, "center_x": 0.7}
            on_release: root.añadir_nota(tittle.text,text_input.text),root.borrar()
        Button:
            text: "Borrar"
            size_hint: 0.2, 0.05
            pos_hint: {"top": 0.08, "center_x": 0.3}
            on_release: root.borrar()

<PantallaMostrarNotas>:
    id: show_notes_screen
    FloatLayout:
                
            
        Button:
            text: 'Actualizar'
            size_hint: 0.2, 0.05
            pos_hint: {"top": 0.95, "center_x": 0.8}
            on_release: root.actualizar_notas()
        
        Button:
            text: 'Volver'
            size_hint_y: 0.1
            on_release: app.pantallaPrincipal(),root.borrar()

<PantallaMochila>:
    GridLayout:
        cols: 1
        spacing: 20
        padding: 20
        
        TextInput:
            id: mochila
            text: ""
            max_length: 16
            hint_text: "Nombre de tu mochila..."
            size_hint: 0.5, 0.1
            pos_hint: {'center_x': 0.5, 'center_y': 0.8}
    
        BoxLayout:
            orientation: "horizontal"
            size_hint: 1, 0.1
            spacing: 20
            pos_hint: {"top": 0.7}
            
            Button:
                text: "+"
                id: plus_button
                size_hint: 0.15, 1
                pos_hint: {"center_x": 0.5}
                on_release: root.añadir_mochila()
                
        Button:
            text: "<"
            size_hint: 0.15, 0.05
            pos_hint: {"top": 0.95, "center_x": 0.17}
            on_release: app.pantallaPrincipal()
        ScrollView:
            do_scroll_x: False
            
            GridLayout:
                id: mochilas_layout
                cols: 1
                size_hint_y: None
                height: self.minimum_height



<PantallaContactos>:
    id: screen_contact
    FloatLayout:
        id: layout_contact
        ScrollView:
            id: scroll_view
            Button:
                text: "<"
                size_hint: 0.15, 0.05
                pos_hint: {"top": 0.95, "center_x": 0.17}
                on_release: app.pantallaPrincipal()

<PantallaAjustes>:
    id: screen_settings
    FloatLayout:
        id: layout_settings
        Button:
            text:"Cambiar Color"
            size_hint: 1, 0.1
            pos_hint: {"top": 0.8, "center_x": 0.5}
            on_release: root.color()
        Button:
            text: "Imagen Perfil"
            size_hint: 1, 0.1
            pos_hint: {"top": 0.7, "center_x": 0.5}
            on_release: root.imagen()

        Button:
            text: "Usuario"
            size_hint: 1, 0.1
            pos_hint: {"top": 0.5, "center_x": 0.5}
            on_release: root.usuario()
        Button:
            text: "FeedBack"
            size_hint: 1, 0.1
            pos_hint: {"top": 0.4, "center_x": 0.5}
            on_release: root.ayuda()
        Button:
            text: "<"
            size_hint: 0.15, 0.05
            pos_hint: {"top": 0.95, "center_x": 0.17}
            on_release: app.pantallaPrincipal()
        Button:
            text: "Musica"
            size_hint: 1, 0.1
            pos_hint: {"top": 0.6, "center_x": 0.5}
            on_release: root.musica()
<ContenidoScreen>:
    name: 'contenido'



<SelectColor>:
    id: color
    GridLayout:
        id: color_layout
        cols: 2
        Button:
            text: "Amarillo"
            size_hint: 1, 0.1
            pos_hint: {"top": 0.8, "center_x": 0.5}
            on_release: app.ColorCanvas("amarillo")
        Button:
            text: "Verde"
            size_hint: 1, 0.1
            pos_hint: {"top": 0.8, "center_x": 0.5}
            on_release: app.ColorCanvas("verde")
        Button:
            text: "Rojo"
            size_hint: 1, 0.1
            pos_hint: {"top": 0.8, "center_x": 0.5}
            on_release: app.ColorCanvas("rojo")
        Button:
            text: "Naranja"
            size_hint: 1, 0.1
            pos_hint: {"top": 0.8, "center_x": 0.5}
            on_release: app.ColorCanvas("naranja")
        Button:
            text: "Morado"
            size_hint: 1, 0.1
            pos_hint: {"top": 0.8, "center_x": 0.5}
            on_release: app.ColorCanvas("morado")
        Button:
            text: "Azul"
            size_hint: 1, 0.1
            pos_hint: {"top": 0.8, "center_x": 0.5}
            on_release: app.ColorCanvas("azul")
        Button:
            text: "Cian"
            size_hint: 1, 0.1
            pos_hint: {"top": 0.8, "center_x": 0.5}
            on_release: app.ColorCanvas("cian")
        Button:
            text: "Gris"
            size_hint: 1, 0.1
            pos_hint: {"top": 0.8, "center_x": 0.5}
            on_release: app.ColorCanvas("gris")
        Button:
            text: "Blanco"
            size_hint: 1, 0.1
            pos_hint: {"top": 0.8, "center_x": 0.5}
            on_release: app.ColorCanvas("blanco")
        Button:
            text: "Negro"
            size_hint: 1, 0.1
            pos_hint: {"top": 0.8, "center_x": 0.5}
            on_release: app.ColorCanvas("negro")
        
<Ayuda>:
    id: ayuda
    FloatLayout:
        id: layout_ayuda
        TextInput:
            id: text_input
            text:""
            max_length: 600
            hint_text: "Escribe tus recomendaciones aqui..."
            size_hint: 0.8, 0.8
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        Button:
            text: "<"
            size_hint: 0.15, 0.05
            pos_hint: {"top": 0.95, "center_x": 0.17}
            on_release: app.pantallaPrincipal()

        BackgroundLabel:
            id: tittle
            text:"FeedBack"
            size_hint: 0.3, 0.05
            pos_hint: {'center_x': 0.5, 'center_y': 0.93}
            background_color: 0, 0, 0, 1
        Button:
            text: "Enviar"
            size_hint: 0.2, 0.05
            pos_hint: {"top": 0.08, "center_x": 0.7}
            on_release: root.enviar(text_input.text),root.borrar()
        Button:
            text: "Borrar"
            size_hint: 0.2, 0.05
            pos_hint: {"top": 0.08, "center_x": 0.3}
            on_release: root.borrar()
<Musica>:
    id: musica

    GridLayout:
        cols: 1
        spacing: 20
        padding: 20
        Button:
            text:"LOFI 1"
            size_hint: 1, 0.05
            on_release: root.play_music(1)
        Button:
            text:"LOFI 2"
            size_hint: 1, 0.05
            on_release: root.play_music(2)
        Button:
            text: "Parar Musica"
            size_hint: 1, 0.05
            on_release: root.stop_music()
        Button:
            text: "Atras"
            size_hint: 0.1, 0.01
            pos_hint: {"top": 0.95, "center_x": 0.17}
            on_release: app.pantallaPrincipal()
<Imagen>:
    id: 'imagen_screen'
    FloatLayout:
        Button:
            text: "<"
            size_hint: 0.15, 0.05
            pos_hint: {"top": 0.95, "center_x": 0.17}
            on_release: app.pantallaPrincipal()
        Image:
            id: imagen
            source: ''
            size_hint: None, None
            size: 350, 350 
            pos_hint: {"center_x": 0.5, "center_y": 0.5} 
        Button:
            text: "seleccionar imagen"
            size_hint: 0.6, 0.05
            pos_hint:{"top": 0.1, "center_x": 0.5}
            on_release: root.select_file()
<Usuario>:
    id: usuario
    FloatLayout:
        Button:
            text: "<"
            size_hint: 0.15, 0.05
            pos_hint: {"top": 0.95, "center_x": 0.17}
            on_release: app.pantallaPrincipal()
        TextInput:
            id: username_input
            hint_text: "Nombre de usuario"
            size_hint: 0.8, 0.1
            pos_hint: {"top": 0.85, "center_x": 0.5}
        TextInput:
            id: name_input
            hint_text: "Nombre Completo"
            size_hint: 0.8, 0.1
            pos_hint: {"top": 0.55, "center_x": 0.5}
        TextInput:
            id: edad
            hint_text: "Edad"
            size_hint: 0.2, 0.1
            pos_hint: {"top": 0.7, "center_x": 0.2}     
        TextInput:
            id: descripcion
            hint_text: "Descripción"
            size_hint: 0.8, 0.3
            pos_hint: {"top": 0.4, "center_x": 0.5}
        Image:
            id: imagen
            source: ''
            size_hint: None, None
            size: 100, 100
            pos_hint: {"top": 0.72, "center_x": 0.6}   
        Button:
            id: save
            text: "Guardar"
            size_hint: 0.2, 0.05
            pos_hint: {"top": 0.95, "center_x": 0.5}
            on_release: root.save(username_input.text,name_input.text,edad.text,descripcion.text)